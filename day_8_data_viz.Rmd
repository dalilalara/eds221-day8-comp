---
title: "EDS221 Day 8 Data Visualization"
author: "Dalila Lara"
date: "2022-08-17"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE,
                      message = FALSE,
                      warning = FALSE)
```

```{r}
library(here)
library(tidyverse)
library(janitor)
library(patchwork)
library(ggrepel)
library(gghighlight)
library(paletteer)
library(ggExtra)
library(ggbeeswarm)
library(gapminder)

#library(sf)
```

### Read in lizard data
```{r}
lizards <- read_csv(here("data_tidy", "lizards.csv"))
```

Plot total length vs weight
```{r}
ggplot(data = lizards, aes(x = total_length, y = weight)) +
  geom_point() #aes(x = , y = can also be placed inside geom_point())
```

Histogram of total lengths for all lizards in data
```{r}
#geom_historgram(bins = 40) width of bars
plot_1 <- ggplot(data = lizards, aes(x = total_length)) +
  geom_histogram(color = "orange",
                 fill = "purple",
                 size = 0.3,
                 linetype = "dotted")
```

Example 2 
```{r}
#shape = 22 (squares), 19 (points), 18 (diamonds)
ggplot(data = lizards, aes(x = total_length, y = weight)) +
  geom_point(
    shape = 22,
    color = "cyan4",
    fill = "yellow",
    size = 4,
    alpha = 0.4
  )
```

Mapping an aesthetic based on variables 
```{r}
ggplot(data = lizards,
       aes(x = total_length,
           y = weight)) +
  geom_point(aes(color = common_name,
                 size = total_length),
             alpha = 0.5) +
  theme_minimal()
```

Facet wrap for species 
Makes individual graph for each species
```{r}
ggplot(data = lizards, aes(x = total_length, y = weight)) +
  geom_point() +
  facet_wrap(~common_name, scales = "free") 
```

Reordering things 
Totaling counts by the common name to make summarized table of the species 
```{r}
#total counts by common name
lizard_counts <- lizards |>
  group_by(common_name) |>
  summarize(
    counts = n()
  )

#gives exact output as above 
lizards_counts <- lizards |>
  count(common_name)
```

Make a col. graph that plots val. n()
`geom_col()`
`fct_reorder()`
```{r}
#default in ggplot is plot in alphabetical order 
#can't manually specify order of thing, only if factors then use `fct_reorder`
#horizontal chart 
ggplot(data = lizards_counts, aes(y = fct_reorder(common_name, n),
                                 x = n)) +
  geom_col()
```

Synthesis examples 
```{r}
#create a scatter plot, facetted by species for total length vs weight, color and shape of points should differ by species (common name). Change theme, make each faceted pannel have flexible axes limits(scales should be free)

ggplot(data = lizards, aes(x = total_length, y = weight)) +
  geom_point(aes(color = common_name,
             shape = common_name),
             alpha = 0.5,
             size = 1) +
  facet_wrap(~common_name, scales = "free") +
  theme_minimal() +
  labs(x = "Total length (mm)",
       y = "Weight (grams)",
       title = "Jornada Basin lizard sizes",
       subtitle = "All lizards follow the standard length weight relationship with Western whiptails as largest.",
       caption = "Data Jornada Basin lizards")
```


